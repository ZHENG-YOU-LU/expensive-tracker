<div class="container my-5">
	{{!-- Total amount --}}
	<div class="alert alert-info row" role="alert" id="total-amount">
		<big class="col-6">總金額</big>
		<h1 class="h1 col-6">{{totalAmount}}</h1>
	</div>

	{{!-- Record list --}}
	<ul class="list-group list-group-flush" id="record-list">
		{{#each records}}
		<li class="list-group-item list-group-item-action row d-flex">
			<div class="col-7 d-flex justify-content-between align-items-center">
				<div class="desc d-flex justify-content-between align-items-center">
					<h1 class="category me-3 text-secondary">
						{{{ this.categoryId.icon }}}
					</h1>
					<div class="detail">
						<h4 class="name mb-0">{{this.name}}</h4>
						<small class="date text-muted">{{this.date}}</small>
					</div>
				</div>
				<big class="amount">{{this.amount}}</big>
			</div>
			<div class="col-5 d-flex justify-content-end align-items-center">
				<!-- Edit Button -->
				<a class="btn btn-outline-secondary mr-2" href="/records/{{this._id}}/edit" role="button">編 輯</a>

				<!-- Delete Button trigger modal -->
				<button type="button" class="btn btn-outline-danger" data-bs-toggle="modal"
					data-bs-target="#deleteModal-{{this._id}}">
					刪 除
				</button>
			</div>
		</li>
		{{/each}}
	</ul>
</div>

{{#each records}}
<div class="modal fade" id="deleteModal-{{this._id}}" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel"
	aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<big class="modal-body">
				確定要刪除 <strong>{{this.name}}</strong> 嗎？
			</big>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取 消</button>
				<form action="/records/{{this._id}}?_method=DELETE" method="POST">
					<button type="submit" class="btn btn-danger">確認刪除</button>
				</form>
			</div>
		</div>
	</div>
</div>
{{/each}}